# Réseau

## Sommaire

```
I. Useful Tips
II. Adresse IP
III. Routage
```

## Des petits tips en Réseau et aussi Linux

### Useful tips: 
   
- Obtenir l'adresse IP d'un site: dig nom_site   
- Ensuite executer nmap +IP+


### Adresse IP (Internet Protocol)

`X.X.X.X/X`, X sont des chiffres.
Cette notation fait référence aux adresses IP et à leurs masques de sous-réseau associés, qui déterminent les parties réseau et hôte d'une adresse IP.
- **Représentation binaire:** 32, 24, 16, 8

#### Masques de sous-réseau (la notation "/")

Les nombres **/32, /24, /16 et /8** sont des exemples de notation **CIDR (Classless Inter-Domain Routing)**. 
Cette notation vous indique combien des 32 bits de l'adresse IP sont utilisés pour l'ID de réseau, en commençant par le bit le plus à gauche. Les bits restants sont utilisés pour l'ID d'hôte.
- **ID de réseau :** Identifie le réseau spécifique auquel un appareil appartient. Tous les appareils sur le même réseau ont le même ID de réseau.
- **ID d'hôte :** Identifie l'appareil spécifique au sein de ce réseau.

#### Représentation Binaire et Masques de Sous-réseau des Adresses IP

| Notation CIDR | Bits Réseau | Bits Hôte | Masque de Sous-réseau (Décimal) | Explication                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| :------------ | :---------- | :-------- | :------------------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **/32** | 32          | 0         | $255.255.255.255$               | Tous les **32 bits** de l'adresse IP sont utilisés pour l'**ID de réseau**. Cela signifie qu'il n'y a **aucun bit disponible pour les hôtes**. Cette notation identifie une **adresse IP unique et spécifique** (un seul appareil), sans désigner de réseau en tant que tel. Elle est souvent utilisée pour des routes d'hôte très spécifiques.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **/24** | 24          | 8         | $255.255.255.0$                 | Les **24 premiers bits** de l'adresse IP (les trois premiers octets) sont dédiés à l'**ID de réseau**. Les **8 derniers bits** sont utilisés pour l'**ID d'hôte**. Cela permet $2^8 - 2 = 254$ adresses IP utilisables pour les hôtes dans ce réseau. C'est un masque très courant pour les petits réseaux locaux, car il offre une bonne flexibilité pour un nombre raisonnable d'appareils. Par exemple, avec `192.168.1.0/24`, l'ID de réseau est `192.168.1`, et les adresses d'hôtes vont de `192.168.1.1` à `192.168.1.254`.                                                                                                                                                                                                |
| **/16** | 16          | 16        | $255.255.0.0$                   | Les **16 premiers bits** (les deux premiers octets) sont réservés pour l'**ID de réseau**, laissant les **16 bits restants** pour l'**ID d'hôte**. Cela permet $2^{16} - 2 = 65 534$ adresses IP utilisables pour les hôtes. Cette notation est souvent utilisée pour des réseaux de taille moyenne à grande, comme ceux d'une entreprise ou d'un campus. Par exemple, avec `172.16.0.0/16`, l'ID de réseau est `172.16`, et les hôtes peuvent aller de `172.16.0.1` à `172.16.255.254`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **/8** | 8           | 24        | $255.0.0.0$                     | Les **8 premiers bits** (le premier octet) définissent l'**ID de réseau**, tandis que les **24 bits restants** sont attribués à l'**ID d'hôte**. Cela donne $2^{24} - 2 = 16 777 214$ adresses IP utilisables pour les hôtes. C'est la notation utilisée pour les très grands réseaux, typiquement les réseaux d'entreprise majeurs ou les fournisseurs d'accès à Internet. Par exemple, avec `10.0.0.0/8`, l'ID de réseau est `10`, et les hôtes peuvent aller de `10.0.0.1` à `10.255.255.254`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |


### Explication détaillé des notations d'Adresses IP (CIDR)

---

#### 1. Explication de X.X.X.X/32

| Caractéristique | Description                                                                                                                              |
| :-------------- | :--------------------------------------------------------------------------------------------------------------------------------------- |
| **Notation CIDR** | `/32`                                                                                                                                    |
| **Bits Réseau** | 32 (tous les bits)                                                                                                                      |
| **Bits Hôte** | 0 (aucun bit pour l'hôte)                                                                                                                |
| **Masque de Sous-réseau** | $255.255.255.255$                                                                                                        |
| **Nombre d'Adresses Hôtes Usables** | 1 (l'adresse elle-même, car il n'y a pas d'adresse réseau ni de diffusion distincte pour un /32)                                                                                                              |
| **Utilisation** | Cette notation ne représente pas un réseau à proprement parler, mais plutôt une **adresse IP unique et spécifique**. Elle est couramment utilisée pour définir des **routes d'hôte** très précises dans une table de routage, où tout le trafic est explicitement dirigé vers une seule adresse IP. Elle ne permet pas de segmenter un réseau en plusieurs hôtes. C'est pourquoi on dit qu'elle est "quasi inexistante" pour la définition de plages réseau. |
| **Exemple** | Si vous avez `192.168.1.10/32`, cela désigne uniquement l'adresse `192.168.1.10`.                                                                                                                                                                        |

---

#### 2. Explication de X.X.X.X/24

| Caractéristique | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :-------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Notation CIDR** | `/24`                                                                                                                                    |
| **Bits Réseau** | 24 (les trois premiers octets)                                                                                                           |
| **Bits Hôte** | 8 (le dernier octet)                                                                                                                     |
| **Masque de Sous-réseau** | $255.255.255.0$                                                                                                        |
| **Nombre d'Adresses Hôtes Usables** | $2^8 - 2 = 254$ adresses (car l'adresse réseau et l'adresse de diffusion ne peuvent pas être attribuées à des hôtes)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Utilisation** | Le `/24` est le **masque de sous-réseau le plus couramment utilisé** pour les petits et moyens réseaux locaux (LAN). Il permet de créer des réseaux avec un nombre raisonnable d'appareils, comme à la maison, dans de petites entreprises ou des départements spécifiques. L'ID de réseau est défini par les trois premiers octets, et le dernier octet est utilisé pour identifier les hôtes individuels au sein de ce réseau.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Exemple** | Pour le réseau `192.168.1.0/24` :<br>- L'**ID de réseau** est `192.168.1.0`.<br>- L'**adresse de diffusion** est `192.168.1.255`.<br>- Les adresses IP pour les **hôtes** vont de `192.168.1.1` à `192.168.1.254`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

---

#### 3. Explication de X.X.X.X/16

| Caractéristique | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :-------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Notation CIDR** | `/16`                                                                                                                                    |
| **Bits Réseau** | 16 (les deux premiers octets)                                                                                                            |
| **Bits Hôte** | 16 (les deux derniers octets)                                                                                                            |
| **Masque de Sous-réseau** | $255.255.0.0$                                                                                                          |
| **Nombre d'Adresses Hôtes Usables** | $2^{16} - 2 = 65 534$ adresses                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Utilisation** | Le `/16` est utilisé pour des **réseaux de taille moyenne à grande**, comme ceux que l'on trouve dans les entreprises, les campus universitaires ou de grandes succursales. Il offre une capacité beaucoup plus importante en termes de nombre d'hôtes par rapport au `/24`. L'ID de réseau est défini par les deux premiers octets, et les deux derniers octets sont utilisés pour identifier les hôtes individuels.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **Exemple** | Pour le réseau `172.16.0.0/16` :<br>- L'**ID de réseau** est `172.16.0.0`.<br>- L'**adresse de diffusion** est `172.16.255.255`.<br>- Les adresses IP pour les **hôtes** vont de `172.16.0.1` à `172.16.255.254`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

---

#### 4. Explication de X.X.X.X/8

| Caractéristique | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :-------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Notation CIDR** | `/8`                                                                                                                                     |
| **Bits Réseau** | 8 (le premier octet)                                                                                                                     |
| **Bits Hôte** | 24 (les trois derniers octets)                                                                                                           |
| **Masque de Sous-réseau** | $255.0.0.0$                                                                                                           |
| **Nombre d'Adresses Hôtes Usables** | $2^{24} - 2 = 16 777 214$ adresses                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Utilisation** | Le `/8` est utilisé pour des **très grands réseaux**, typiquement les réseaux d'entreprise majeurs, les fournisseurs d'accès à Internet (FAI) ou les entités possédant d'énormes infrastructures réseau. Il offre une capacité immense en termes de nombre d'hôtes. L'ID de réseau est défini uniquement par le premier octet, laissant les trois octets restants pour l'identification des hôtes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Exemple** | Pour le réseau `10.0.0.0/8` :<br>- L'**ID de réseau** est `10.0.0.0`.<br>- L'**adresse de diffusion** est `10.255.255.255`.<br>- Les adresses IP pour les **hôtes** vont de `10.0.0.1` à `10.255.255.254`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

## Routage 

- Redirection de deux paquets entre deux réseaux (Liaison entre deux réseaux différentes
- **Prerouting:** Avant Routage
- **Postrouting:** Après Routage
  - Exemple: 
    - **DHCP:** Prerouting (Car redirection automatique)
    
